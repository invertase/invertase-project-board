name: Project Board Sync Example

on:
  issues:
    types: [opened, reopened, closed, labeled, unlabeled]
  issue_comment:
    types: [created]
  pull_request:
    types: [opened, edited, reopened, synchronize]

permissions:
  id-token: write  # Required for OIDC token
  contents: read
  issues: read
  pull-requests: read

jobs:
  sync-project-board:
    runs-on: ubuntu-latest
    name: Sync to Project Board
    steps:
      - name: Forward to Project Manager
        uses: invertase/invertase-project-board@v1
        with:
          # Specify project board numbers (required)
          project-boards: '[1, 2, 3]'
          
          # Optional: Customize your endpoint
          # endpoint_url: 'https://your-custom-endpoint.example.com/events'
          
          # Optional: Define label mappings for different statuses
          blocked: '["blocked", "on-hold", "dependencies"]'
          in_progress: '["in-progress", "wip", "working-on-it"]'
          ready: '["ready", "approved", "ready-to-merge"]'
          needs_response: '["needs-info", "waiting-for-response", "needs-feedback"]'
